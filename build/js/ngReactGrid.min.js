var NgReactGridComponent=function(){var e=window.innerWidth,t=(window.innerHeight,function(t){var i=String(t.width).replace("px",""),r=-1!==i.indexOf("%");if(r){var a=Math.floor(parseInt(i)*e/100);t.width=a}}),i=function(e,i,r){e.horizontalScroll&&(i.width||(i.width="10%"),t(i)),r.width=i.width},r=function(){var e=function(e){return e.columnDefs.some(function(e){return e.columnFilter})},t=React.createClass({displayName:"NgGridColumnFilterCell",handleSearchInputChange:function(){this.props.onSearchInput(this.refs[this.props.cell.field].getDOMNode().value,this.props.cell.field)},cellStyle:{textOverflow:"ellipsis",boxSizing:"border-box",width:"100%"},render:function(){return React.createElement("th",{title:this.props.cell.field+" Search"},React.createElement("input",{type:"text",style:this.cellStyle,placeholder:"Filter "+this.props.cell.displayName,ref:this.props.cell.field,onKeyUp:this.handleSearchInputChange}))}}),r=React.createClass({displayName:"NgGridHeaderCellInput",getInitialState:function(){return{checked:!1}},setNgReactGridCheckboxHeaderStateFromEvent:function(e){this.setState({checked:e.detail.checked})},componentDidMount:function(){window.addEventListener("setNgReactGridCheckboxHeaderStateFromEvent",this.setNgReactGridCheckboxHeaderStateFromEvent)},componentWillUnmount:function(){window.removeEventListener("setNgReactGridCheckboxHeaderStateFromEvent",this.setNgReactGridCheckboxHeaderStateFromEvent)},handleCheckboxClick:function(e){e.stopPropagation();var t=this.state.checked?!1:!0;this.props.cell.handleHeaderClick(t,this.props.grid.react.getFilteredAndSortedData()),this.setState({checked:t})},render:function(){var e=this.props.cell.options?this.props.cell.options.headerStyle||{}:{};if(void 0===this.props.cell.inputType)return React.createElement("div",null);switch(this.props.cell.inputType){case"checkbox":return React.createElement("div",{title:this.props.cell.title,className:"ngGridHeaderCellCheckboxInput",style:e},React.createElement("input",{type:this.props.cell.inputType,onChange:this.handleCheckboxClick,checked:this.state.checked}));default:return React.createElement("div",null)}}}),a=React.createClass({displayName:"NgGridHeaderCell",getInitialState:function(){return{width:0}},cellStyle:{},handleClick:function(){this.props.cell.sort!==!1&&this.props.grid.react.setSortField(this.props.cell.field)},componentWillReceiveProps:function(){i(this.props.grid,this.props.cell,this.cellStyle,this.props.last),this.setState({width:this.cellStyle.width})},componentWillMount:function(){i(this.props.grid,this.props.cell,this.cellStyle,this.props.last),this.setState({width:this.cellStyle.width})},resize:function(){},componentDidMount:function(){},render:function(){this.cellStyle.cursor=this.props.cell.sort!==!1?"pointer":"default";var e=this.cellStyle,t={cursor:"pointer",width:"8%","float":"left",textAlign:"right",display:this.props.cell.sort===!1?"none":"inline-block",overflow:"visible"},i={marginTop:2},a="icon-arrows";this.props.grid.sortInfo.field===this.props.cell.field?(a+="asc"===this.props.grid.sortInfo.dir?" icon-asc":" icon-desc",i.marginTop=5):a+=" icon-both";var n={height:"21px",marginTop:"-4px",width:"1px",background:"#999999",borderRight:"1px solid #FFF","float":"right"},s={width:"2%",cursor:"col-resize",display:"none"};return React.createElement("th",{title:this.props.cell.displayName,onClick:this.handleClick,style:e},React.createElement("div",{className:"ngGridHeaderCellText"},this.props.cell.displayName),React.createElement(r,{cell:this.props.cell,grid:this.props.grid}),React.createElement("div",{style:t},React.createElement("i",{className:a,style:i})),React.createElement("div",{style:s,className:"ngGridHeaderResizeControl"},React.createElement("div",{className:"ngGridHeaderCellResize",style:n})))}}),n=React.createClass({displayName:"NgReactGridShowPerPage",handleChange:function(){this.props.grid.react.setPageSize(this.refs.showPerPage.getDOMNode().value)},render:function(){var e=this.props.grid.pageSizes.map(function(e,t){return React.createElement("option",{value:e,key:t},e)}.bind(this));return this.props.grid.showGridShowPerPage?React.createElement("div",{className:"ngReactGridShowPerPage"},"Show ",React.createElement("select",{onChange:this.handleChange,ref:"showPerPage",value:this.props.grid.pageSize},e)," entries"):React.createElement("div",null)}}),s=React.createClass({displayName:"NgReactGridSearch",handleSearch:function(){this.props.grid.react.setSearch(this.refs.searchField.getDOMNode().value)},render:function(){return this.props.grid.showGridSearch?React.createElement("div",{className:"ngReactGridSearch"},React.createElement("input",{type:"text",placeholder:"Search...",ref:"searchField",onKeyUp:this.handleSearch})):React.createElement("div",null)}}),c=React.createClass({displayName:"NgReactGridColumnFilter",handleSearch:function(e,t){this.props.grid.react.setSearch(e,t)},render:function(){if(e(this.props.grid)&&this.props.grid.localMode){var i=this.props.grid.columnDefs.map(function(e,i){return e.columnFilter?React.createElement(t,{key:i,cell:e,onSearchInput:this.handleSearch}):React.createElement("th",{key:i})}.bind(this));return React.createElement("tr",{className:"ngReactGridColumnFilter"},i)}return React.createElement("tr",null)}}),o=React.createClass({displayName:"NgReactGridHeader",render:function(){var t=this.props.grid.columnDefs.length,i=this.props.grid.columnDefs.map(function(e,i){var r=t-1===i;return React.createElement(a,{key:i,cell:e,index:i,grid:this.props.grid,last:r})}.bind(this)),r={width:"calc(100% - "+this.props.grid.scrollbarWidth+"px)"},o={paddingRight:this.props.grid.horizontalScroll?this.props.grid.scrollbarWidth:0,height:e(this.props.grid)?"auto":"27px"};return React.createElement("div",null,React.createElement("div",{className:"ngReactGridHeaderToolbarWrapper"},React.createElement(n,{grid:this.props.grid,setGridState:this.props.setGridState}),React.createElement(s,{grid:this.props.grid})),React.createElement("div",{className:"ngReactGridHeaderWrapper"},React.createElement("div",{className:"ngReactGridHeader",style:o},React.createElement("div",{className:"ngReactGridHeaderInner"},React.createElement("table",{style:r},React.createElement("thead",null,React.createElement("tr",null,i),React.createElement(c,{grid:this.props.grid})))))))}});return o}(),a=function(){var e=React.createClass({displayName:"NgReactGridBodyRowCell",cell:function(e,t){return cellTextType=typeof e,"string"===cellTextType?React.createElement("td",{style:t},e):"object"===cellTextType?(e=this.props.grid.react.wrapFunctionsInAngular(e),React.createElement("td",{style:t},e)):this.defaultCell},render:function(){var e=this.props.grid.react.getObjectPropertyByString(this.props.row,this.props.cell.field),t={};return i(this.props.grid,this.props.cell,t,this.props.last,!0),this.props.grid.singleLineCell&&(t.overflow="hidden",t.textOverflow="ellipsis",t.whiteSpace="nowrap"),(null===e||"undefined"==typeof e)&&(e=""),this.defaultCell=React.createElement("td",{style:t,title:String(e)},React.createElement("div",null,String(e))),this.props.grid.editing&&this.props.cell.edit?(e=this.props.cell.edit(this.props.row),this.cell(e,t)):this.props.cell.render?(e=this.props.cell.render(this.props.row),this.cell(e,t)):this.defaultCell}}),t=React.createClass({displayName:"NgReactGridBodyRow",handleClick:function(e){"checkbox"!==e.target.type&&this.props.grid.react.rowClick(this.props.row)},render:function(){var t=this.props.grid.columnDefs.length,i=this.props.grid.columnDefs.map(function(i,r){var a=t-1===r;return React.createElement(e,{key:r,cell:i,row:this.props.row,grid:this.props.grid,last:a})}.bind(this));return React.createElement("tr",{onClick:this.handleClick},i)}}),r=React.createClass({displayName:"NgReactGridBody",getInitialState:function(){return{fullRender:!1,needsUpdate:!1}},calculateIfNeedsUpdate:function(){this.props.grid.data.length>100&&this.setState({needsUpdate:!0})},performFullRender:function(){this.state.needsUpdate&&setTimeout(function(){this.setState({fullRender:!0,needsUpdate:!1})}.bind(this),0)},componentWillMount:function(){this.calculateIfNeedsUpdate()},componentWillReceiveProps:function(){this.calculateIfNeedsUpdate()},componentDidMount:function(){var e=this.getDOMNode(),t=e.parentNode,i=t.querySelector(".ngReactGridHeaderInner"),r=t.querySelector(".ngReactGridViewPort");e.firstChild.addEventListener("scroll",function(){i.scrollLeft=r.scrollLeft}),this.performFullRender()},componentDidUpdate:function(){this.performFullRender()},render:function(){var e,i=function(e,i){return React.createElement(t,{key:i,row:e,columns:this.props.columnDefs,grid:this.props.grid})}.bind(this);if(this.props.grid.react.loading){var r={textAlign:"center"};e=React.createElement("tr",null,React.createElement("td",{colSpan:this.props.grid.columnDefs.length,style:r},"Loading..."))}else if(e=this.state.fullRender?this.props.grid.data.map(i):this.props.grid.data.slice(0,100).map(i),0===this.props.grid.react.showingRecords){var a={textAlign:"center"};e=React.createElement("tr",null,React.createElement("td",{colSpan:this.props.grid.columnDefs.length,style:a},"No records found"))}var n={maxHeight:this.props.grid.height,minHeight:this.props.grid.height},s={};return this.props.grid.horizontalScroll?s.width="calc(100% - "+this.props.grid.scrollbarWidth+"px)":n.overflowX="hidden",React.createElement("div",{className:"ngReactGridBody"},React.createElement("div",{className:"ngReactGridViewPort",style:n},React.createElement("div",{className:"ngReactGridInnerViewPort"},React.createElement("table",{style:s},React.createElement("tbody",null,e)))))}});return r}(),n=function(){var e=React.createClass({displayName:"NgReactGridStatus",render:function(){return React.createElement("div",{className:"ngReactGridStatus"},React.createElement("div",null,"Page ",React.createElement("strong",null,this.props.grid.currentPage)," of ",React.createElement("strong",null,this.props.grid.totalPages)," - Showing ",React.createElement("strong",null,this.props.grid.react.showingRecords)," of ",React.createElement("strong",null,this.props.grid.totalCount)," records"))}}),t=React.createClass({displayName:"NgReactGridPagination",goToPage:function(e){this.props.grid.react.goToPage(e)},goToLastPage:function(){this.goToPage(this.props.grid.totalPages)},goToFirstPage:function(){this.goToPage(1)},goToNextPage:function(){var e=this.props.grid.currentPage+1,t=this.props.grid.totalPages-e;t>=0&&this.goToPage(e)},goToPrevPage:function(){var e=this.props.grid.currentPage-1;e>0&&this.goToPage(e)},render:function(){for(var e=2,t=this.props.grid.totalPages,i=this.props.grid.currentPage,r=0>=i-e?1:i-e,a=i+e>=t?t:i+e,n=[],s=r;a>=s;s++)n.push(s);return n=n.map(function(e,t){var i=e===this.props.grid.currentPage?"active":"";return React.createElement("li",{key:t,className:i,dataPage:e},React.createElement("a",{href:"javascript:",onClick:this.goToPage.bind(null,e)},e))}.bind(this)),React.createElement("div",{className:"ngReactGridPagination"},React.createElement("ul",null,React.createElement("li",null,React.createElement("a",{href:"javascript:",onClick:this.goToPrevPage},"Prev")),React.createElement("li",null,React.createElement("a",{href:"javascript:",onClick:this.goToFirstPage},"First")),n,React.createElement("li",null,React.createElement("a",{href:"javascript:",onClick:this.goToLastPage},"Last")),React.createElement("li",null,React.createElement("a",{href:"javascript:",onClick:this.goToNextPage},"Next"))))}}),i=React.createClass({displayName:"NgReactGridFooter",render:function(){return 0==this.props.grid.totalCount?null:React.createElement("div",{className:"ngReactGridFooter"},React.createElement(e,{grid:this.props.grid}),React.createElement(t,{grid:this.props.grid}))}});return i}(),s=React.createClass({displayName:"NgReactGrid",render:function(){return React.createElement("div",{className:"ngReactGrid"},React.createElement(r,{grid:this.props.grid}),React.createElement(a,{grid:this.props.grid}),React.createElement(n,{grid:this.props.grid}))}});return s}(),NgReactGridCheckboxComponent=function(){var e="selected",t=React.createClass({displayName:"NgReactGridCheckboxComponent",getInitialState:function(){var e=this.props.options.disableCheckboxField,t=this.props.utils.getObjectPropertyByStringFn(this.props.row,e);return{checked:!1,disabled:t?t:!1}},setSelectedRowClass:function(t){var i=this.getDOMNode().parentNode.parentNode;i.classList.toggle(e,t)},handleClick:function(e){var t=!this.state.checked;this.setState({checked:t}),this.props.handleToggle(e,t)},setNgReactGridCheckboxStateFromEvent:function(e){if(!this.state.disabled)if(e.detail.targetCheckboxes.key){var t=this.state.checked,i=this.props.utils.getObjectPropertyByStringFn(this.props.row,e.detail.targetCheckboxes.key);i&&i===e.detail.targetCheckboxes.value&&(t=e.detail.checked),this.setState({checked:t}),this.props.handleToggle(e,t)}else this.setState({checked:e.detail.checked}),this.props.handleToggle(e,e.detail.checked)},componentWillReceiveProps:function(e){var t=e.options.disableCheckboxField,i=e.utils.getObjectPropertyByStringFn(e.row,t);this.setState({checked:-1===e.selectionTarget.indexOf(e.row)?!1:!0,disabled:i?i:!1})},componentDidMount:function(){this.setSelectedRowClass(this.state.checked),window.addEventListener("setNgReactGridCheckboxStateFromEvent",this.setNgReactGridCheckboxStateFromEvent)},componentWillUnmount:function(){window.removeEventListener("setNgReactGridCheckboxStateFromEvent",this.setNgReactGridCheckboxStateFromEvent)},componentWillUpdate:function(e,t){this.setSelectedRowClass(t.checked)},render:function(){var e=this.props.options.hideDisabledCheckboxField;return this.state.disabled&&e?React.createElement("div",{style:this.props.options.headerStyle}):React.createElement("div",{style:this.props.options.headerStyle},React.createElement("input",{type:"checkbox",onChange:this.handleClick,checked:this.state.checked,disabled:this.state.disabled}))}});return t}(),NgReactGridCheckboxFieldComponent=function(){var e=React.createClass({displayName:"NgReactGridCheckboxFieldComponent",getInitialState:function(){return{checked:!1}},handleClick:function(){var e={checked:this.state.checked?!1:!0};this.setState(e),this.props.updateValue(e.checked)},componentWillReceiveProps:function(e){this.setState({checked:e.value?!0:!1})},componentWillMount:function(){this.setState({checked:this.props.value===!0?!0:!1})},render:function(){return React.createElement("input",{type:"checkbox",checked:this.state.checked,onChange:this.handleClick})}});return e}(),NgReactGridSelectFieldComponent=function(){var e=React.createClass({displayName:"NgReactGridSelectFieldComponent",getInitialState:function(){return{defaultValue:{id:"",name:""}}},handleChange:function(e){var t=e.target.value;this.props.updateValue(t),this.setState({defaultValue:{id:t}})},componentWillReceiveProps:function(e){this.setState({defaultValue:e.value||{}})},componentWillMount:function(){this.setState({defaultValue:this.props.value||{}})},render:function(){this.props.referenceData||(this.props.referenceData=[]);var e=this.props.referenceData.map(function(e){return React.createElement("option",{value:e.id},e.name)});return React.createElement("select",{className:"ngReactGridSelectField",value:this.state.defaultValue.id,onChange:this.handleChange},e)}});return e}(),NgReactGridTextFieldComponent=function(){var e=React.createClass({displayName:"NgReactGridTextFieldComponent",getInitialState:function(){return{defaultValue:""}},handleChange:function(){var e=this.refs.textField.getDOMNode().value;this.props.updateValue(e),this.setState({defaultValue:e})},componentWillReceiveProps:function(e){this.setState({defaultValue:e.value})},componentWillMount:function(){this.setState({defaultValue:this.props.value})},render:function(){return React.createElement("input",{type:"text",value:this.state.defaultValue,className:"ngReactTextField",ref:"textField",onChange:this.handleChange})}});return e}();!function e(t,i,r){function a(s,c){if(!i[s]){if(!t[s]){var o="function"==typeof require&&require;if(!c&&o)return o(s,!0);if(n)return n(s,!0);throw new Error("Cannot find module '"+s+"'")}var l=i[s]={exports:{}};t[s][0].call(l.exports,function(e){var i=t[s][1][e];return a(i?i:e)},l,l.exports,e,t,i,r)}return i[s].exports}for(var n="function"==typeof require&&require,s=0;s<r.length;s++)a(r[s]);return a}({1:[function(e,t){var i=e("../vendors/miniUnderscore"),r=e("./NgReactGridReactManager"),a=e("./NgReactGridEditManager"),n="localMode is false, please implement the getData function on the grid object",s=function(e,t,i,n){this.columnDefs=e.grid.columnDefs||[],this.data=[],this.height=400,this.localMode=!0,this.editing=!1,this.singleLineCell=!1,this.totalCount=0,this.totalPages=0,this.currentPage=1,this.rowClick=function(){},this.pageSize=25,this.pageSizes=[25,50,100,500],this.sortInfo={field:"",dir:""},this.showGridSearch=!0,this.showGridShowPerPage=!0,this.search="",this.horizontalScroll=!1,this.scrollbarWidth=this.getScrollbarWidth(),this.scope=e,this.element=t,this.attrs=i,this.rootScope=n,this.react=new r(this),this.editManager=new a(this),this.setupUpdateEvents(),this.initWatchers(),this.init()};s.prototype.init=function(){if(this.scope.grid.localMode===!1){if(!this.scope.grid.getData)throw new Error(n);this._getData=this.scope.grid.getData,delete this.scope.grid.getData}i.extend(this,this.scope.grid),this.react.mixinAPI(this.scope.grid),this.editManager.mixinAPI(this.scope.grid),this.isServerMode()?(this.getData(),this.addRefreshAPI()):this.updateData({data:this.data}),this.render()},s.prototype.getData=function(){this.react.loading=!0,this._getData(this),this.render()},s.prototype.addRefreshAPI=function(){var e=this;this.scope.grid.refresh=function(){e.getData.call(e)}},s.prototype.getScrollbarWidth=function(){var e=document.createElement("div");e.style.visibility="hidden",e.style.width="100px",e.style.msOverflowStyle="scrollbar",document.body.appendChild(e);var t=e.offsetWidth;e.style.overflow="scroll";var i=document.createElement("div");i.style.width="100%",e.appendChild(i);var r=i.offsetWidth;return e.parentNode.removeChild(e),t-r},s.prototype.isSearching=function(){return this.search&&this.search.length>0},s.prototype.isLocalMode=function(){return this.localMode},s.prototype.isServerMode=function(){return!this.localMode},s.prototype.setupUpdateEvents=function(){this.events={COLUMN_DEF:"COLUMN_DEF",PAGESIZE:"PAGESIZE",SORTING:"SORTING",SEARCH:"SEARCH",PAGINATION:"PAGINATION",DATA:"DATA",TOTALCOUNT:"TOTALCOUNT",COLUMNS:"COLUMNS"}},s.prototype.initWatchers=function(){this.scope.$watchCollection("grid.data",function(e,t){e!==t&&(this.isServerMode()&&this.react.loading&&(this.react.loading=!1),this.update(this.events.DATA,{data:e}))}.bind(this)),this.scope.$watchCollection("grid.columnDefs",function(e,t){e!==t&&(this.update(this.events.COLUMN_DEF,{filterValues:{}}),this.update(this.events.COLUMNS,{columnDefs:e}))}.bind(this),!0),this.scope.$watch("grid.totalCount",function(e){e&&this.update(this.events.TOTALCOUNT,{totalCount:e})}.bind(this))},s.prototype.update=function(e,t){switch(e){case this.events.COLUMN_DEF:this.updateColumnDef(t);break;case this.events.DATA:this.updateData(t);break;case this.events.PAGESIZE:this.updatePageSize(t);break;case this.events.PAGINATION:this.updatePagination(t);break;case this.events.SEARCH:this.updateSearch(t);break;case this.events.SORTING:this.updateSorting(t);break;case this.events.TOTALCOUNT:this.updateTotalCount(t);break;case this.events.COLUMNS:this.updateColumns(t)}this.render()},s.prototype.updateColumnDef=function(e){this.react.filterValues=e.filterValues},s.prototype.updateData=function(e,t){this.react.startIndex=(this.currentPage-1)*this.pageSize,this.react.endIndex=this.pageSize*this.currentPage,this.isLocalMode()?t?(this.data=e.data.slice(this.react.startIndex,this.react.endIndex),this.react.filteredAndSortedData=e.data.slice(0),this.totalCount=e.data.length):(this.react.originalData=e.data.slice(0),this.totalCount=this.react.originalData.length,this.data=this.react.originalData.slice(this.react.startIndex,this.react.endIndex),this.react.filteredAndSortedData=this.react.originalData.slice(0)):(this.data=e.data,this.react.filteredAndSortedData=this.data.slice(0)),this.react.showingRecords=this.data.length,this.totalPages=Math.ceil(this.totalCount/this.pageSize)},s.prototype.updatePageSize=function(e){this.pageSize=e.pageSize,this.currentPage=e.currentPage,this.updateData({data:this.react.filteredAndSortedData?this.react.filteredAndSortedData:this.react.originalData},!0)},s.prototype.updatePagination=function(e){this.currentPage=e.currentPage,this.updateData({data:this.react.filteredAndSortedData?this.react.filteredAndSortedData:this.react.originalData},!0)},s.prototype.updateSearch=function(e){this.search=e.search,this.currentPage=1,this.updateData({data:e.data},!0)},s.prototype.updateSorting=function(e){this.sortInfo=e.sortInfo,e.data&&(this.currentPage=1,this.updateData({data:e.data},!0))},s.prototype.updateTotalCount=function(e){this.totalCount=e.totalCount,this.totalPages=Math.ceil(this.totalCount/this.pageSize)},s.prototype.updateColumns=function(e){this.columnDefs=e.columnDefs},s.prototype.render=function(){var e=React.createFactory(NgReactGridComponent);React.render(e({grid:this}),this.element[0])},t.exports=s},{"../vendors/miniUnderscore":10,"./NgReactGridEditManager":2,"./NgReactGridReactManager":3}],2:[function(e,t){var i=function(e){this.ngReactGrid=e,this.dataCopy=[]};i.prototype.mixinAPI=function(e){var t=this;e.edit=function(){return t.edit.call(t)},e.save=function(){return t.save.call(t)},e.cancel=function(){return t.cancel.call(t)},e.getEditedData=function(){return t.getEditedData.call(t)}},i.prototype.getEditedData=function(){return this.ngReactGrid.react.originalData},i.prototype.edit=function(){this.ngReactGrid.editing=!0,this.dataCopy=this.copyData(this.ngReactGrid.react.originalData),this.ngReactGrid.render()},i.prototype.save=function(){return this.ngReactGrid.editing=!1,this.ngReactGrid.update(this.ngReactGrid.events.DATA,{data:this.ngReactGrid.react.originalData}),this.ngReactGrid.react.originalData},i.prototype.cancel=function(){this.ngReactGrid.editing=!1,this.ngReactGrid.update(this.ngReactGrid.events.DATA,{data:this.dataCopy})},i.prototype.copyData=function(e){return JSON.parse(JSON.stringify(e))},t.exports=i},{}],3:[function(e,t){var i=function(e){this.ngReactGrid=e,this.showingRecords=0,this.startIndex=0,this.endIndex=0,this.originalData=[],this.filteredData=[],this.filterValues={},this.filteredAndSortedData=[],this.loading=!1,this.getObjectPropertyByString=i.getObjectPropertyByString};i.prototype.mixinAPI=function(e){var t=this;e.getFilteredAndSortedData=function(){return t.getFilteredAndSortedData.call(t)}},i.prototype.getFilteredAndSortedData=function(){return this.filteredAndSortedData},i.prototype.setPageSize=function(e){var t={pageSize:e,currentPage:1};this.ngReactGrid.isSearching()&&(t.data=this.filteredData),this.ngReactGrid.update(this.ngReactGrid.events.PAGESIZE,t),this.ngReactGrid.isServerMode()&&this.ngReactGrid.getData()},i.prototype.setSortField=function(e){var t={sortInfo:{field:e,dir:""}};t.sortInfo.dir=this.ngReactGrid.sortInfo.field!==e?"asc":"asc"===this.ngReactGrid.sortInfo.dir?"desc":"asc",this.ngReactGrid.isServerMode()?(this.ngReactGrid.update(this.ngReactGrid.events.SORTING,t),this.ngReactGrid.getData()):this.performLocalSort(t)},i.prototype.performLocalSort=function(e){var t;t=this.ngReactGrid.isSearching()?this.filteredData:this.originalData.slice(0);var i="asc"===e.sortInfo.dir;t.sort(function(t,r){var a=this.getObjectPropertyByString(t,e.sortInfo.field),n=this.getObjectPropertyByString(r,e.sortInfo.field);return i?n>=a?-1:1:a>=n?-1:1}.bind(this)),e.data=t,e.currentPage=1,this.ngReactGrid.update(this.ngReactGrid.events.SORTING,e)},i.prototype.deepSearch=function(e,t,i){var r=!1;if(e)for(var a in e)if(e.hasOwnProperty(a)){var n=e[a];if("object"==typeof n){if(r=this.deepSearch(n,t,i),r===!0)break}else{if(i&&"_global"!==i&&a!==i.split(".").pop())continue;if(-1!==String(e[a]).toLowerCase().indexOf(t.toLowerCase())){r=!0;break}}}return r},i.prototype.setSearch=function(e,t){var t=t?t:"_global";this.filterValues[t]=e;var i={search:e};if(this.ngReactGrid.isLocalMode()){this.filteredData=this.originalData.slice(0);for(var t in this.filterValues)this.filterValues.hasOwnProperty(t)&&(this.filteredData=this.filteredData.filter(function(e){var i=!1;return i=this.deepSearch(e,this.filterValues[t],t)}.bind(this)));i.data=this.filteredData,i.currentPage=1,this.ngReactGrid.update(this.ngReactGrid.events.SEARCH,i)}else this.ngReactGrid.search=e,this.ngReactGrid.getData()},i.prototype.goToPage=function(e){var t={currentPage:e};this.ngReactGrid.update(this.ngReactGrid.events.PAGINATION,t),this.ngReactGrid.isServerMode()&&this.ngReactGrid.getData()},i.prototype.rowClick=function(e){this.ngReactGrid.rowClick(e)},i.prototype.wrapFunctionsInAngular=function(e){for(var t in e.props)e.props.hasOwnProperty(t)&&("children"===t&&e.props[t]?this.wrapFunctionsInAngular(e.props[t]):"function"==typeof e.props[t]&&(e.props[t]=this.wrapWithRootScope(e.props[t])));return e},i.prototype.wrapWithRootScope=function(e){var t=this;return function(){var i=arguments,r=t.ngReactGrid.rootScope.$$phase;"$apply"==r||"$digest"==r?e.apply(null,i):t.ngReactGrid.rootScope.$apply(function(){e.apply(null,i)})}},i.getObjectPropertyByString=function(e,t){t=t.replace(/\[(\w+)\]/g,".$1"),t=t.replace(/^\./,"");for(var i=t.split(".");i.length;){var r=i.shift();if(!(null!=e&&r in e))return;e=e[r]}return e},i.updateObjectPropertyByString=function(e,t,i){for(var r=t.split("."),a=e,n=0;n<r.length-1;n++){var s=r[n];s in a?a=a[s]:(a[s]={},a=a[s])}a[r[r.length-1]]=i},t.exports=i},{}],4:[function(e,t){var i=e("../classes/NgReactGrid"),r=function(e){return{restrict:"E",scope:{grid:"="},link:function(t,r,a){new i(t,r,a,e)}}};t.exports=r},{"../classes/NgReactGrid":1}],5:[function(e,t){var i=e("../vendors/miniUnderscore"),r=e("../classes/NgReactGridReactManager"),a=function(e){var t=function(t,a){var n={disableCheckboxField:"",hideDisabledCheckboxField:!1,batchToggle:!1,headerStyle:{textAlign:"center"},width:"2%"},s=i.extend({},n,a),c={getObjectPropertyByStringFn:r.getObjectPropertyByString};return{field:"",fieldName:"",displayName:"",title:"Select/Deselect All",options:s,utils:c,setAllCheckboxStates:this.setAllCheckboxStates,setHeaderCheckboxState:this.setHeaderCheckboxState,setVisibleCheckboxState:this.setVisibleCheckboxState,inputType:s.batchToggle?"checkbox":void 0,handleHeaderClick:function(i,r){this.setVisibleCheckboxState(i),e.$apply(function(){for(;t.length;)t.pop();i&&r.forEach(function(e){c.getObjectPropertyByStringFn(e,s.disableCheckboxField)||t.push(e)})})},render:function(e){var i=function(i,r){i.stopPropagation(),this.setHeaderCheckboxState(!1);var a=t.indexOf(e);-1===a?r&&t.push(e):r||t.splice(a,1)}.bind(this),r=React.createFactory(NgReactGridCheckboxComponent);return r({selectionTarget:t,handleToggle:i,row:e,utils:this.utils,options:this.options})},sort:!1,width:s.width}};return t.prototype.setHeaderCheckboxState=function(e){window.dispatchEvent(new CustomEvent("setNgReactGridCheckboxHeaderStateFromEvent",{detail:{checked:e}}))},t.prototype.setVisibleCheckboxState=function(e,t){var r={checked:e,targetCheckboxes:{key:null,value:null}},a=i.extend({},r,t);window.dispatchEvent(new CustomEvent("setNgReactGridCheckboxStateFromEvent",{detail:a}))},t};t.exports=a},{"../classes/NgReactGridReactManager":3,"../vendors/miniUnderscore":10}],6:[function(e,t){var i=e("../classes/NgReactGridReactManager"),r=function(){var e=function(e,t,r){this.record=e,this.field=t,this.updateNotification=r;var a=i.getObjectPropertyByString(this.record,this.field),n=React.createFactory(NgReactGridCheckboxFieldComponent);return n({value:a,updateValue:this.updateValue.bind(this)})};return e.prototype.updateValue=function(e){i.updateObjectPropertyByString(this.record,this.field,e),this.updateNotification&&this.updateNotification(this.record)},e};t.exports=r},{"../classes/NgReactGridReactManager":3}],7:[function(e,t){var i=e("../classes/NgReactGridReactManager"),r=function(e){var t=function(e,t,r,a){this.record=e,this.field=t,this.updateNotification=a,this.referenceData=r;var n=i.getObjectPropertyByString(this.record,this.field),s=React.createFactory(NgReactGridSelectFieldComponent);return s({value:n,updateValue:this.updateValue.bind(this),referenceData:r||[]})};return t.prototype.updateValue=function(t){var r={};for(var a in this.referenceData){var n=this.referenceData[a];n.id==t&&(r=n)}i.updateObjectPropertyByString(this.record,this.field,r),this.updateNotification&&(e.$$phase?this.updateNotification(this.record):e.$apply(function(){this.updateNotification(this.record)}.bind(this)))},t};t.exports=r},{"../classes/NgReactGridReactManager":3}],8:[function(e,t){var i=e("../classes/NgReactGridReactManager"),r=function(e){var t=function(e,t,r){this.record=e,this.field=t,this.updateNotification=r;var a=i.getObjectPropertyByString(this.record,this.field),n=React.createFactory(NgReactGridTextFieldComponent);return n({value:a,updateValue:this.updateValue.bind(this)})};return t.prototype.updateValue=function(t){i.updateObjectPropertyByString(this.record,this.field,t),this.updateNotification&&(e.$$phase?this.updateNotification(this.record):e.$apply(function(){this.updateNotification(this.record)}.bind(this)))},t};t.exports=r},{"../classes/NgReactGridReactManager":3}],9:[function(e){"use strict";var t=e("./directives/ngReactGridDirective"),i=e("./factories/ngReactGridCheckboxFactory"),r=e("./factories/ngReactGridTextFieldFactory"),a=e("./factories/ngReactGridCheckboxFieldFactory"),n=e("./factories/ngReactGridSelectFieldFactory");angular.module("ngReactGrid",[]).factory("ngReactGridCheckbox",["$rootScope",i]).factory("ngReactGridTextField",["$rootScope",r]).factory("ngReactGridCheckboxField",[a]).factory("ngReactGridSelectField",["$rootScope",n]).directive("ngReactGrid",["$rootScope",t])},{"./directives/ngReactGridDirective":4,"./factories/ngReactGridCheckboxFactory":5,"./factories/ngReactGridCheckboxFieldFactory":6,"./factories/ngReactGridSelectFieldFactory":7,"./factories/ngReactGridTextFieldFactory":8}],10:[function(e,t){var i={nativeForEach:Array.prototype.forEach,each:function(e,t,r){if(null==e)return e;if(this.nativeForEach&&e.forEach===this.nativeForEach)e.forEach(t,r);else if(e.length===+e.length){for(var a=0,n=e.length;n>a;a++)if(t.call(r,e[a],a,e)===breaker)return}else for(var s=i.keys(e),a=0,n=s.length;n>a;a++)if(t.call(r,e[s[a]],s[a],e)===breaker)return;return e},slice:Array.prototype.slice,extend:function(e){return this.each(this.slice.call(arguments,1),function(t){if(t)for(var i in t)e[i]=t[i]}),e}};t.exports=i},{}]},{},[9]);